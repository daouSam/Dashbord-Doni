"use strict";(self.webpackChunkDoniDashbord=self.webpackChunkDoniDashbord||[]).push([[190],{9190:(E,p,r)=>{r.r(p),r.d(p,{EchangesModule:()=>v});var g=r(6895),h=r(5034),n=r(4650),u=r(9019),f=r(529);let m=(()=>{var t;class s{constructor(e){this.http=e,this.url=u.JW}listAllConverg(){return this.http.get(this.url+"messages/list")}addResMsgcl(e,a){return this.http.put(this.url+"messagesres/"+e,a)}}return(t=s).\u0275fac=function(e){return new(e||t)(n.LFG(f.eN))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),s})();var l=r(433);const _=function(t,s){return{yours:t,"mine messages":s}},C=function(t,s){return{" other":t,message:s}};function M(t,s){if(1&t&&(n.TgZ(0,"div",10)(1,"div",10),n._uU(2),n.qZA()()),2&t){const o=s.$implicit;n.Q6J("ngClass",n.WLB(3,_,o.reqres,!o.reqres)),n.xp6(1),n.Q6J("ngClass",n.WLB(6,C,o.reqres,!o.reqres)),n.xp6(1),n.hij(" ",null==o?null:o.contenu," ")}}let d=(()=>{var t;class s{constructor(e){this.echaServi=e,this.reqres=!1,this.ResMsg=new n.vpe}ngOnInit(){}sendMsgMy(e){const a={contenu:e.value.contenu,reqres:this.reqres};e.reset(),this.sendValues(a)}sendValues(e){this.ResMsg.emit(e)}}return(t=s).\u0275fac=function(e){return new(e||t)(n.Y36(m))},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-echabody"]],inputs:{DetailAll:"DetailAll"},outputs:{ResMsg:"ResMsg"},decls:16,vars:1,consts:[[1,"container"],[1,"chatbox","conversation"],["id","chat",1,"row","chat-section"],[1,"col-sm","chat"],[3,"ngClass",4,"ngFor","ngForOf"],[1,"form-outline","w-100","mb-4"],["formMsg","ngForm"],["name","contenu","id","inputmsg","ngModel","","rows","3",1,"form-control"],["contenu","ngModel"],[1,"btn","btn-primary","send-button",3,"click"],[3,"ngClass"]],template:function(e,a){if(1&e){const c=n.EpF();n.TgZ(0,"div",0)(1,"h5"),n._uU(2,"Requ\xeate et suggestions du client"),n.qZA(),n.TgZ(3,"div",1)(4,"div",2)(5,"div",3),n.YNc(6,M,3,9,"div",4),n.qZA()()(),n._UZ(7,"div"),n.TgZ(8,"div",5)(9,"form",null,6),n._UZ(11,"textarea",7,8),n.TgZ(13,"button",9),n.NdJ("click",function(){n.CHM(c);const y=n.MAs(10);return n.KtG(a.sendMsgMy(y))}),n.TgZ(14,"span"),n._uU(15,"Bouton envoie"),n.qZA()()()()()}2&e&&(n.xp6(6),n.Q6J("ngForOf",a.DetailAll))},dependencies:[g.mk,g.sg,l._Y,l.Fj,l.JJ,l.JL,l.On,l.F],styles:['.conversation[_ngcontent-%COMP%]{background:#fff;height:90%;margin-top:5px;border-bottom-left-radius:38px;border-bottom-right-radius:38px}.conversation[_ngcontent-%COMP%]   .chat-section[_ngcontent-%COMP%]   .chat[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%}.conversation[_ngcontent-%COMP%]   .chat-section[_ngcontent-%COMP%]   .chat[_ngcontent-%COMP%]   .messages[_ngcontent-%COMP%]{display:flex;flex-direction:column}.conversation[_ngcontent-%COMP%]   .chat-section[_ngcontent-%COMP%]   .chat[_ngcontent-%COMP%]   .messages[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{border-radius:5px;padding:5px 7px;margin-top:5px;margin-right:5px;max-width:65%;margin-bottom:5px;font-size:.9rem}.conversation[_ngcontent-%COMP%]   .chat-section[_ngcontent-%COMP%]   .chat[_ngcontent-%COMP%]   .yours[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start}.conversation[_ngcontent-%COMP%]   .chat-section[_ngcontent-%COMP%]   .chat[_ngcontent-%COMP%]   .yours[_ngcontent-%COMP%]   .other[_ngcontent-%COMP%]{border-radius:5px;padding:5px 7px;margin-top:5px;max-width:65%;margin-left:10px;margin-bottom:5px;font-size:.9rem}.conversation[_ngcontent-%COMP%]   .chat-section[_ngcontent-%COMP%]   .chat[_ngcontent-%COMP%]   .yours[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.7rem;color:#a6a6a6;margin-left:10px}.conversation[_ngcontent-%COMP%]   .chat-section[_ngcontent-%COMP%]   .chat[_ngcontent-%COMP%]   .yours[_ngcontent-%COMP%]   .other[_ngcontent-%COMP%]{background:#ccc;color:#000;background-attachment:fixed;position:relative}.conversation[_ngcontent-%COMP%]   .chat-section[_ngcontent-%COMP%]   .chat[_ngcontent-%COMP%]   .mine[_ngcontent-%COMP%]{align-items:flex-end}.conversation[_ngcontent-%COMP%]   .chat-section[_ngcontent-%COMP%]   .chat[_ngcontent-%COMP%]   .mine[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.7rem;color:#a6a6a6;display:flex;align-items:center;margin-right:10px}.conversation[_ngcontent-%COMP%]   .chat-section[_ngcontent-%COMP%]   .chat[_ngcontent-%COMP%]   .mine[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:1.1rm}.conversation[_ngcontent-%COMP%]   .chat-section[_ngcontent-%COMP%]   .chat[_ngcontent-%COMP%]   .mine[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{color:#fff;margin-left:25%;background:#acfeac;color:#000;background-attachment:fixed;position:relative}.conversation[_ngcontent-%COMP%]   .message-input[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;position:fixed;bottom:25px;width:100%}.conversation[_ngcontent-%COMP%]   .message-input[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{border:1px solid #ddd;background:#ddd;border-radius:20px}.send-button[_ngcontent-%COMP%]{background:#feacac;padding:12px 12px 9px 15px;border-radius:5px;color:#fff;font-size:1.31rem}*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box;font-family:Nunito,sans-serif}.container[_ngcontent-%COMP%]{display:flex;justify-content:start;flex-direction:column;height:100vh;width:100vw}h5[_ngcontent-%COMP%]{margin:-.01em auto;color:#fff;padding-top:15px;text-align:center}.chatbox[_ngcontent-%COMP%]{background:rgba(255,255,255,.05);width:100%;height:70%;border-radius:.2em;position:relative;box-shadow:1px 1px 12px #0000001a;overflow:scroll;overflow-x:hidden}.chatbox__messages[_ngcontent-%COMP%]:nth-of-type(odd)   .chatbox__messages__user-message--ind-message[_ngcontent-%COMP%]{float:right}.chatbox__messages[_ngcontent-%COMP%]:nth-of-type(odd)   .chatbox__messages__user-message--ind-message[_ngcontent-%COMP%]:after{content:"";position:absolute;margin:-1.5em -17.06em;width:0;height:0;border-top:10px solid transparent;border-bottom:10px solid transparent;border-right:10px solid rgba(255,255,255,.2)}.chatbox__messages[_ngcontent-%COMP%]:nth-of-type(even)   .chatbox__messages__user-message--ind-message[_ngcontent-%COMP%]{float:left}.chatbox__messages[_ngcontent-%COMP%]:nth-of-type(even)   .chatbox__messages__user-message--ind-message[_ngcontent-%COMP%]:after{content:"";position:absolute;margin:-1.5em 1.87em;width:0;height:0;border-top:10px solid transparent;border-bottom:10px solid transparent;border-left:10px solid rgba(255,255,255,.2)}.chatbox[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{float:left;text-align:left;margin:-.25em 2em;font-size:.7em;font-weight:300;color:#fff;width:200px}[_ngcontent-%COMP%]::-webkit-input-placeholder{color:#ffffffe6}[_ngcontent-%COMP%]:-moz-placeholder{color:#ffffffe6}[_ngcontent-%COMP%]::-moz-placeholder{color:#ffffffe6}[_ngcontent-%COMP%]:-ms-input-placeholder{color:#ffffffe6}']}),s})();function x(t,s){if(1&t){const o=n.EpF();n.TgZ(0,"article",2),n.NdJ("click",function(){const c=n.CHM(o).$implicit,i=n.oxw();return n.KtG(i.sendValues(c))}),n.TgZ(1,"span",3),n._uU(2),n.qZA(),n.TgZ(3,"span",4),n._uU(4,"3"),n.TgZ(5,"span"),n._uU(6,"Req"),n.qZA()()()}if(2&t){const o=s.$implicit;n.xp6(2),n.AsE("",null==o||null==o.paysans?null:o.paysans.nom," ",null==o||null==o.paysans?null:o.paysans.prenom,"")}}let b=(()=>{var t;class s{constructor(){this.newItemEvent=new n.vpe}ngOnInit(){}sendValues(e){this.newItemEvent.emit(e)}}return(t=s).\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-echaside"]],inputs:{items:"items"},outputs:{newItemEvent:"newItemEvent"},decls:2,vars:1,consts:[[1,"leaderboard__profiles"],["class","leaderboard__profile",3,"click",4,"ngFor","ngForOf"],[1,"leaderboard__profile",3,"click"],[1,"leaderboard__name"],[1,"leaderboard__value"]],template:function(e,a){1&e&&(n.TgZ(0,"div",0),n.YNc(1,x,7,2,"article",1),n.qZA()),2&e&&(n.xp6(1),n.Q6J("ngForOf",a.items))},dependencies:[g.sg],styles:[".leaderboard[_ngcontent-%COMP%]{max-width:490px;width:100%;border-radius:12px}.leaderboard__profiles[_ngcontent-%COMP%]{background-color:none;border-radius:0 0 12px 12px;padding:15px 15px 20px;display:grid;row-gap:8px;color:#fff}.leaderboard__profile[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 3fr 1fr;align-items:center;padding:5px 10px 5px 5px;overflow:hidden;border-radius:10px;box-shadow:0 5px 7px -1px #3333333b;cursor:pointer;transition:transform .25s cubic-bezier(.7,.98,.86,.98),box-shadow .25s cubic-bezier(.7,.98,.86,.98);background:none}.leaderboard__profile[_ngcontent-%COMP%]:hover{transform:scale(1.2);box-shadow:0 9px 47px 11px #3333332e}.leaderboard__name[_ngcontent-%COMP%]{color:#fff;font-weight:600;font-size:14px;font-family:Tienne;letter-spacing:.64px;margin-left:3px;text-shadow:1px 1px 1px #000}.leaderboard__value[_ngcontent-%COMP%]{color:#35d8ac;font-weight:700;font-size:11px;text-align:right;text-shadow:1px 2px 1px #000}.leaderboard__value[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{opacity:.8;font-weight:600;font-size:13px;margin-left:3px}.container[_ngcontent-%COMP%]{margin:0;background-color:#eaeaea;display:grid;height:100vh;place-items:center;font-family:Source Sans Pro,sans-serif}.leaderboard[_ngcontent-%COMP%]{box-shadow:0 0 40px -10px #0006}"]}),s})();const O=[{path:"",component:(()=>{var t;class s{constructor(e){this.echaServi=e,this.cltId=0}ngOnInit(){this.listAllEcha()}listAllEcha(){this.echaServi.listAllConverg().subscribe(e=>{this.AllEcha=e,this.currMsgDis=this.AllEcha[0].echamsg,this.currMsgDis.sort((a,c)=>a.id>c.id?1:c.id>a.id?-1:0),this.cltId=this.AllEcha[0].paysans.id})}GetChildData(e){this.currMsgDis=e.echamsg,this.cltId=e.paysans.id,console.log(this.currMsgDis),console.log(this.cltId)}GetChildDataResMsg(e){this.echaServi.addResMsgcl(this.cltId,e).subscribe(a=>{this.EchaRes=a,this.currMsgDis=this.EchaRes.echamsg,this.currMsgDis.sort((c,i)=>c.id>i.id?1:i.id>c.id?-1:0)})}}return(t=s).\u0275fac=function(e){return new(e||t)(n.Y36(m))},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-echalayout"]],decls:7,vars:2,consts:[["id","main",1,"main"],[1,"col-sm-12","container"],[1,"row"],[1,"col-sm-2"],[3,"items","newItemEvent"],[1,"col-sm-10"],[3,"DetailAll","ResMsg"]],template:function(e,a){1&e&&(n.TgZ(0,"main",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"app-echaside",4),n.NdJ("newItemEvent",function(i){return a.GetChildData(i)}),n.qZA()(),n.TgZ(5,"div",5)(6,"app-echabody",6),n.NdJ("ResMsg",function(i){return a.GetChildDataResMsg(i)}),n.qZA()()()()()),2&e&&(n.xp6(4),n.Q6J("items",a.AllEcha),n.xp6(2),n.Q6J("DetailAll",a.currMsgDis))},dependencies:[d,b],styles:[".container[_ngcontent-%COMP%]{background:linear-gradient(120deg,rgba(23,190,187,.1),rgba(240,166,202,.1));overflow:hidden;width:100%}"]}),s})(),children:[{path:"",component:d},{path:"echabody",component:d}]}];let P=(()=>{var t;class s{}return(t=s).\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[h.Bz.forChild(O),h.Bz]}),s})(),v=(()=>{var t;class s{}return(t=s).\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[g.ez,P,l.u5]}),s})()}}]);